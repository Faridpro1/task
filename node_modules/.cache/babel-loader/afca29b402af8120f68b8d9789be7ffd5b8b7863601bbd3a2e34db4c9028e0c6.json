{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useStore } from \"../store\";\nconst loginUser = _ref => {\n  let {\n    email,\n    password\n  } = _ref;\n  return axios.post('http://localhost:8000/api/auth/login', {\n    email,\n    password\n  });\n};\nexport const useLogin = () => {\n  _s();\n  const setToken = useStore(state => state.setToken);\n  useMutation(_ref2 => {\n    let {\n      email,\n      password\n    } = _ref2;\n    return loginUser({\n      email,\n      password\n    });\n  }, {\n    onSuccess: data => {\n      console.log(data);\n      localStorage.setItem(\"token\", data.data);\n      setToken(data.data);\n    }\n  });\n};\n_s(useLogin, \"aV9veCjphbpk0foWUPJwBHGPGac=\", false, function () {\n  return [useStore, useMutation];\n});","map":{"version":3,"names":["axios","useMutation","useStore","loginUser","email","password","post","useLogin","setToken","state","onSuccess","data","console","log","localStorage","setItem"],"sources":["D:/Farid web/lessons/task3/task3/src/hooks/useLogin.js"],"sourcesContent":["import axios from \"axios\"\r\nimport {useMutation} from \"@tanstack/react-query\"\r\nimport { useStore } from \"../store\"\r\nconst loginUser = ({email,password})=>axios.post('http://localhost:8000/api/auth/login',{\r\n    email,\r\n    password\r\n  })\r\n\r\nexport const useLogin =() =>{ \r\n  const setToken = useStore((state) =>state.setToken)\r\n  \r\n  useMutation(({email,password}) =>loginUser({email,password}),{\r\n  onSuccess: (data) =>{\r\n    console.log(data);\r\n    localStorage.setItem(\"token\",data.data)\r\n    setToken(data.data)\r\n  }\r\n}) }\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,WAAW,QAAO,uBAAuB;AACjD,SAASC,QAAQ,QAAQ,UAAU;AACnC,MAAMC,SAAS,GAAG;EAAA,IAAC;IAACC,KAAK;IAACC;EAAQ,CAAC;EAAA,OAAGL,KAAK,CAACM,IAAI,CAAC,sCAAsC,EAAC;IACpFF,KAAK;IACLC;EACF,CAAC,CAAC;AAAA;AAEJ,OAAO,MAAME,QAAQ,GAAE,MAAK;EAAA;EAC1B,MAAMC,QAAQ,GAAGN,QAAQ,CAAEO,KAAK,IAAIA,KAAK,CAACD,QAAQ,CAAC;EAEnDP,WAAW,CAAC;IAAA,IAAC;MAACG,KAAK;MAACC;IAAQ,CAAC;IAAA,OAAIF,SAAS,CAAC;MAACC,KAAK;MAACC;IAAQ,CAAC,CAAC;EAAA,GAAC;IAC7DK,SAAS,EAAGC,IAAI,IAAI;MAClBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBG,YAAY,CAACC,OAAO,CAAC,OAAO,EAACJ,IAAI,CAACA,IAAI,CAAC;MACvCH,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC;IACrB;EACF,CAAC,CAAC;AAAC,CAAC;AAAA,GATSJ,QAAQ;EAAA,QACFL,QAAQ,EAEzBD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}